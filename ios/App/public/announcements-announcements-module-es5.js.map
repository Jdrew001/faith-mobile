{"version":3,"sources":["src/app/announcements/announcements.page.html","src/app/announcements/announcements-routing.module.ts","src/app/announcements/announcements.module.ts","src/app/announcements/announcements.page.scss","src/app/announcements/announcements.page.ts","src/app/core/utils/DateUtilities.ts"],"names":[],"mappings":"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","sourcesContent":["export default \"<ion-header>\\r\\n  <app-navigation></app-navigation>\\r\\n</ion-header>\\r\\n<ion-content>\\r\\n  <div class=\\\"heading\\\">\\r\\n    <app-icon-bar [icon]=\\\"'megaphone-outline'\\\" [title]=\\\"'Announcement'\\\"></app-icon-bar>\\r\\n    <ion-row class=\\\"fixed\\\">\\r\\n      <ion-col size=\\\"12\\\">\\r\\n        <ion-segment id=\\\"segment\\\" class=\\\"segment\\\" scrollable mode=\\\"md\\\" [value]=\\\"activeDate.date\\\" appAutoScroll (ionChange)=\\\"updateList($event)\\\">\\r\\n          <ion-segment-button *ngFor=\\\"let val of dates\\\" [value]=\\\"val.date\\\" id=\\\"{{val.active ? 'active': ''}}\\\">\\r\\n            <ion-label>{{ val.date }}</ion-label>\\r\\n          </ion-segment-button>\\r\\n        </ion-segment>\\r\\n      </ion-col>\\r\\n    </ion-row>\\r\\n  </div>\\r\\n  <ion-row class=\\\"empty-row animated fadeIn faster\\\" *ngIf=\\\"!listUpdate && announcements.length === 0\\\">\\r\\n    <ion-icon name=\\\"sad-outline\\\"></ion-icon>\\r\\n    <p style=\\\"text-align: center; padding-top: 5%\\\">No Announcements</p>\\r\\n  </ion-row>\\r\\n  <div style=\\\"margin-top: 40%;\\\">\\r\\n    <app-list-card-item [type]=\\\"'announcements'\\\" [items]=\\\"announcements\\\" [detailPage]=\\\"'announcement-details'\\\" (detailNavigate)=\\\"navigationToDetail($event)\\\"></app-list-card-item>\\r\\n  </div>\\r\\n</ion-content>\\r\\n\"","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { AnnouncementsPage } from './announcements.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: AnnouncementsPage\r\n  },\r\n  {\r\n    path: 'announcement-details/:id',\r\n    loadChildren: () => import('./announcement-details/announcement-details.module').then( m => m.AnnouncementDetailsPageModule)\r\n  }\r\n\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class AnnouncementsPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { AnnouncementsPageRoutingModule } from './announcements-routing.module';\r\n\r\nimport { AnnouncementsPage } from './announcements.page';\r\nimport { SharedModule } from '../shared/shared.module';\r\nimport { AutoScrollDirective } from '../shared/auto-scroll.directive';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    AnnouncementsPageRoutingModule,\r\n    SharedModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [AnnouncementsPage]\r\n})\r\nexport class AnnouncementsPageModule {}\r\n","export default \".forward-icon {\\n  color: #E02E2E !important;\\n  position: absolute;\\n  right: 0px;\\n  bottom: 0px;\\n}\\n\\nimg {\\n  border-radius: 15px !important;\\n}\\n\\nion-input {\\n  margin: 0px 5%;\\n  border-bottom: 1px solid #3171e05c;\\n}\\n\\n.segment {\\n  scroll-behavior: smooth;\\n}\\n\\nion-row.empty-row {\\n  margin: 0% 10vh;\\n  position: relative;\\n  top: 45% !important;\\n  color: #929292;\\n}\\n\\nion-row.empty-row ion-icon {\\n  width: 100%;\\n  font-size: 3em;\\n  color: #9292928c;\\n}\\n\\nion-row.empty-row p {\\n  text-align: center;\\n  padding-top: 5%;\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbInNyYy9hcHAvYW5ub3VuY2VtZW50cy9DOlxcVXNlcnNcXGR0YXRrXFxQcm9qZWN0c1xcZmFpdGgtbW9iaWxlL3NyY1xcYXBwXFxhbm5vdW5jZW1lbnRzXFxhbm5vdW5jZW1lbnRzLnBhZ2Uuc2NzcyIsInNyYy9hcHAvYW5ub3VuY2VtZW50cy9hbm5vdW5jZW1lbnRzLnBhZ2Uuc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtFQUNJLHlCQUFBO0VBQ0Esa0JBQUE7RUFDQSxVQUFBO0VBQ0EsV0FBQTtBQ0NKOztBREVBO0VBQ0ksOEJBQUE7QUNDSjs7QURFQTtFQUNJLGNBQUE7RUFDQSxrQ0FBQTtBQ0NKOztBREVBO0VBQ0ksdUJBQUE7QUNDSjs7QURFQTtFQUNJLGVBQUE7RUFDQSxrQkFBQTtFQUNBLG1CQUFBO0VBQ0EsY0FBQTtBQ0NKOztBRENJO0VBQ0ksV0FBQTtFQUNBLGNBQUE7RUFDQSxnQkFBQTtBQ0NSOztBREVJO0VBQ0ksa0JBQUE7RUFDQSxlQUFBO0VBQ0EsV0FBQTtBQ0FSIiwiZmlsZSI6InNyYy9hcHAvYW5ub3VuY2VtZW50cy9hbm5vdW5jZW1lbnRzLnBhZ2Uuc2NzcyIsInNvdXJjZXNDb250ZW50IjpbIi5mb3J3YXJkLWljb24ge1xyXG4gICAgY29sb3I6ICNFMDJFMkUgIWltcG9ydGFudDtcclxuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcclxuICAgIHJpZ2h0OiAwcHg7XHJcbiAgICBib3R0b206IDBweDtcclxufVxyXG5cclxuaW1nIHtcclxuICAgIGJvcmRlci1yYWRpdXM6IDE1cHggIWltcG9ydGFudDtcclxufVxyXG5cclxuaW9uLWlucHV0IHtcclxuICAgIG1hcmdpbjogMHB4IDUlO1xyXG4gICAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMzMTcxZTA1YztcclxufVxyXG5cclxuLnNlZ21lbnQge1xyXG4gICAgc2Nyb2xsLWJlaGF2aW9yOiBzbW9vdGg7XHJcbn1cclxuXHJcbmlvbi1yb3cuZW1wdHktcm93IHtcclxuICAgIG1hcmdpbjogMCUgMTB2aDtcclxuICAgIHBvc2l0aW9uOiByZWxhdGl2ZTtcclxuICAgIHRvcDogNDUlICFpbXBvcnRhbnQ7XHJcbiAgICBjb2xvcjogIzkyOTI5MjtcclxuXHJcbiAgICBpb24taWNvbiB7XHJcbiAgICAgICAgd2lkdGg6IDEwMCU7XHJcbiAgICAgICAgZm9udC1zaXplOiAzZW07XHJcbiAgICAgICAgY29sb3I6ICM5MjkyOTI4YztcclxuICAgIH1cclxuXHJcbiAgICBwIHtcclxuICAgICAgICB0ZXh0LWFsaWduOiBjZW50ZXI7XHJcbiAgICAgICAgcGFkZGluZy10b3A6IDUlO1xyXG4gICAgICAgIHdpZHRoOiAxMDAlO1xyXG4gICAgfVxyXG59IiwiLmZvcndhcmQtaWNvbiB7XG4gIGNvbG9yOiAjRTAyRTJFICFpbXBvcnRhbnQ7XG4gIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgcmlnaHQ6IDBweDtcbiAgYm90dG9tOiAwcHg7XG59XG5cbmltZyB7XG4gIGJvcmRlci1yYWRpdXM6IDE1cHggIWltcG9ydGFudDtcbn1cblxuaW9uLWlucHV0IHtcbiAgbWFyZ2luOiAwcHggNSU7XG4gIGJvcmRlci1ib3R0b206IDFweCBzb2xpZCAjMzE3MWUwNWM7XG59XG5cbi5zZWdtZW50IHtcbiAgc2Nyb2xsLWJlaGF2aW9yOiBzbW9vdGg7XG59XG5cbmlvbi1yb3cuZW1wdHktcm93IHtcbiAgbWFyZ2luOiAwJSAxMHZoO1xuICBwb3NpdGlvbjogcmVsYXRpdmU7XG4gIHRvcDogNDUlICFpbXBvcnRhbnQ7XG4gIGNvbG9yOiAjOTI5MjkyO1xufVxuaW9uLXJvdy5lbXB0eS1yb3cgaW9uLWljb24ge1xuICB3aWR0aDogMTAwJTtcbiAgZm9udC1zaXplOiAzZW07XG4gIGNvbG9yOiAjOTI5MjkyOGM7XG59XG5pb24tcm93LmVtcHR5LXJvdyBwIHtcbiAgdGV4dC1hbGlnbjogY2VudGVyO1xuICBwYWRkaW5nLXRvcDogNSU7XG4gIHdpZHRoOiAxMDAlO1xufSJdfQ== */\"","import { Component, OnInit, ViewChild, ElementRef, OnDestroy } from '@angular/core';\r\nimport { AnnouncementService } from './announcement.service';\r\nimport { LoadWorkerService } from '../core/load-worker.service';\r\nimport { Announcement } from './announcement.model';\r\nimport { FormGroup, FormControl } from '@angular/forms';\r\nimport { isNullOrUndefined } from 'util';\r\nimport { DateUtils } from '../core/utils/DateUtilities';\r\nimport { IonSegment, NavController } from '@ionic/angular';\r\n\r\n@Component({\r\n  selector: 'app-announcements',\r\n  templateUrl: './announcements.page.html',\r\n  styleUrls: ['./announcements.page.scss'],\r\n})\r\nexport class AnnouncementsPage implements OnInit, OnDestroy {\r\n\r\n  @ViewChild('btnSegment', null) btnSegment: IonSegment;\r\n  dateUtils = new DateUtils();\r\n  announcements: Announcement[] = [];\r\n  listUpdate = false;\r\n  limit = new Date().getFullYear() + 2;\r\n  dates = [];\r\n  activeDate: any = {};\r\n\r\n  constructor(private announcementService: AnnouncementService,\r\n    private loadWorkService: LoadWorkerService,\r\n    private navController: NavController) { }\r\n\r\n  ngOnInit() {\r\n    this.dates = this.dateUtils.retrieveMonthAndYear(this.limit);\r\n    this.activeDate = this.dates.find(x => x.active);\r\n    this.announcementService.announcements$.subscribe(val => {\r\n      this.announcements = val;\r\n      this.listUpdate = false;\r\n    });\r\n    this.loadAnnouncements(this.splitDate(this.activeDate['date']).month, this.splitDate(this.activeDate['date']).year);\r\n  }\r\n\r\n  loadAnnouncements(month, year) {\r\n    this.announcementService.fetchFilteredAnnouncements(month, year)\r\n  }\r\n\r\n  updateList(event) {\r\n    let date = event.detail.value.split(' ');\r\n    let month = date[0];\r\n    let year = date[1];\r\n    this.announcements = [];\r\n    this.listUpdate = true;\r\n    this.announcementService.fetchFilteredAnnouncements(month, year);\r\n  }\r\n\r\n  splitDate(date) {\r\n    let newDate = date.split(' ');\r\n    let month = newDate[0];\r\n    let year = newDate[1];\r\n\r\n    return { month: month, year: year};\r\n  }\r\n\r\n  navigationToDetail(val) {\r\n    this.navController.navigateForward(val);\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    console.log('on destroy');\r\n    this.announcementService.announcement$.next(null);\r\n  }\r\n}\r\n","export class DateUtils {\r\n\r\n    private monthNames = [ \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"June\",\r\n        \"July\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\" ];\r\n\r\n    retrieveMonthAndYear(limit) {\r\n        let data = [];\r\n        let startingYear = new Date().getFullYear();\r\n        while(startingYear <= limit) {\r\n            for (let i = 0; i < this.monthNames.length; i++) {\r\n                data.push({date: `${this.monthNames[i]} ${startingYear}`, active: (i === new Date().getMonth() && startingYear === new Date().getFullYear())});\r\n            }\r\n            startingYear++;\r\n        }\r\n\r\n        return data;        \r\n    }\r\n}"],"sourceRoot":"webpack:///","file":"announcements-announcements-module-es5.js"}