{"version":3,"sources":["./src/app/announcements/announcements.page.html","./src/app/announcements/announcements-routing.module.ts","./src/app/announcements/announcements.module.ts","./src/app/announcements/announcements.page.scss","./src/app/announcements/announcements.page.ts","./src/app/core/utils/DateUtilities.ts"],"names":[],"mappings":"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","file":"announcements-announcements-module-es2015.js","sourcesContent":["export default \"<ion-header>\\n  <app-navigation></app-navigation>\\n</ion-header>\\n<ion-content>\\n  <div class=\\\"heading\\\">\\n    <app-icon-bar [icon]=\\\"'megaphone-outline'\\\" [title]=\\\"'Announcement'\\\"></app-icon-bar>\\n    <ion-row class=\\\"fixed\\\">\\n      <ion-col size=\\\"12\\\">\\n        <ion-segment id=\\\"segment\\\" class=\\\"segment\\\" scrollable mode=\\\"md\\\" [value]=\\\"activeDate.date\\\" appAutoScroll (ionChange)=\\\"updateList($event)\\\">\\n          <ion-segment-button *ngFor=\\\"let val of dates\\\" [value]=\\\"val.date\\\" id=\\\"{{val.active ? 'active': ''}}\\\">\\n            <ion-label>{{ val.date }}</ion-label>\\n          </ion-segment-button>\\n        </ion-segment>\\n      </ion-col>\\n    </ion-row>\\n  </div>\\n  <ion-row class=\\\"empty-row animated fadeIn faster\\\" *ngIf=\\\"!listUpdate && announcements.length === 0\\\">\\n    <ion-icon name=\\\"sad-outline\\\"></ion-icon>\\n    <p style=\\\"text-align: center; padding-top: 5%\\\">No Announcements</p>\\n  </ion-row>\\n  <div style=\\\"margin-top: 40%;\\\">\\n    <app-list-card-item [type]=\\\"'announcements'\\\" [items]=\\\"announcements\\\" [detailPage]=\\\"'announcement-details'\\\" (detailNavigate)=\\\"navigationToDetail($event)\\\"></app-list-card-item>\\n  </div>\\n</ion-content>\\n\"","import { NgModule } from '@angular/core';\nimport { Routes, RouterModule } from '@angular/router';\n\nimport { AnnouncementsPage } from './announcements.page';\n\nconst routes: Routes = [\n  {\n    path: '',\n    component: AnnouncementsPage\n  },\n  {\n    path: 'announcement-details/:id',\n    loadChildren: () => import('./announcement-details/announcement-details.module').then( m => m.AnnouncementDetailsPageModule)\n  }\n\n];\n\n@NgModule({\n  imports: [RouterModule.forChild(routes)],\n  exports: [RouterModule],\n})\nexport class AnnouncementsPageRoutingModule {}\n","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\n\nimport { IonicModule } from '@ionic/angular';\n\nimport { AnnouncementsPageRoutingModule } from './announcements-routing.module';\n\nimport { AnnouncementsPage } from './announcements.page';\nimport { SharedModule } from '../shared/shared.module';\nimport { AutoScrollDirective } from '../shared/auto-scroll.directive';\n\n@NgModule({\n  imports: [\n    CommonModule,\n    FormsModule,\n    IonicModule,\n    AnnouncementsPageRoutingModule,\n    SharedModule,\n    ReactiveFormsModule\n  ],\n  declarations: [AnnouncementsPage]\n})\nexport class AnnouncementsPageModule {}\n","export default \".forward-icon {\\n  color: #E02E2E !important;\\n  position: absolute;\\n  right: 0px;\\n  bottom: 0px;\\n}\\n\\nimg {\\n  border-radius: 15px !important;\\n}\\n\\nion-input {\\n  margin: 0px 5%;\\n  border-bottom: 1px solid #3171e05c;\\n}\\n\\n.segment {\\n  scroll-behavior: smooth;\\n}\\n\\nion-row.empty-row {\\n  margin: 0% 10vh;\\n  position: relative;\\n  top: 45% !important;\\n  color: #929292;\\n}\\n\\nion-row.empty-row ion-icon {\\n  width: 100%;\\n  font-size: 3em;\\n  color: #9292928c;\\n}\\n\\nion-row.empty-row p {\\n  text-align: center;\\n  padding-top: 5%;\\n  width: 100%;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi9Vc2Vycy9lbGl6YWJldGhoYXJyaXMvRG9jdW1lbnRzL3Byb2plY3RzL2ZhaXRoLW1vYmlsZS9zcmMvYXBwL2Fubm91bmNlbWVudHMvYW5ub3VuY2VtZW50cy5wYWdlLnNjc3MiLCJzcmMvYXBwL2Fubm91bmNlbWVudHMvYW5ub3VuY2VtZW50cy5wYWdlLnNjc3MiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IkFBQUE7RUFDSSx5QkFBQTtFQUNBLGtCQUFBO0VBQ0EsVUFBQTtFQUNBLFdBQUE7QUNDSjs7QURFQTtFQUNJLDhCQUFBO0FDQ0o7O0FERUE7RUFDSSxjQUFBO0VBQ0Esa0NBQUE7QUNDSjs7QURFQTtFQUNJLHVCQUFBO0FDQ0o7O0FERUE7RUFDSSxlQUFBO0VBQ0Esa0JBQUE7RUFDQSxtQkFBQTtFQUNBLGNBQUE7QUNDSjs7QURDSTtFQUNJLFdBQUE7RUFDQSxjQUFBO0VBQ0EsZ0JBQUE7QUNDUjs7QURFSTtFQUNJLGtCQUFBO0VBQ0EsZUFBQTtFQUNBLFdBQUE7QUNBUiIsImZpbGUiOiJzcmMvYXBwL2Fubm91bmNlbWVudHMvYW5ub3VuY2VtZW50cy5wYWdlLnNjc3MiLCJzb3VyY2VzQ29udGVudCI6WyIuZm9yd2FyZC1pY29uIHtcbiAgICBjb2xvcjogI0UwMkUyRSAhaW1wb3J0YW50O1xuICAgIHBvc2l0aW9uOiBhYnNvbHV0ZTtcbiAgICByaWdodDogMHB4O1xuICAgIGJvdHRvbTogMHB4O1xufVxuXG5pbWcge1xuICAgIGJvcmRlci1yYWRpdXM6IDE1cHggIWltcG9ydGFudDtcbn1cblxuaW9uLWlucHV0IHtcbiAgICBtYXJnaW46IDBweCA1JTtcbiAgICBib3JkZXItYm90dG9tOiAxcHggc29saWQgIzMxNzFlMDVjO1xufVxuXG4uc2VnbWVudCB7XG4gICAgc2Nyb2xsLWJlaGF2aW9yOiBzbW9vdGg7XG59XG5cbmlvbi1yb3cuZW1wdHktcm93IHtcbiAgICBtYXJnaW46IDAlIDEwdmg7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlO1xuICAgIHRvcDogNDUlICFpbXBvcnRhbnQ7XG4gICAgY29sb3I6ICM5MjkyOTI7XG5cbiAgICBpb24taWNvbiB7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgICAgICBmb250LXNpemU6IDNlbTtcbiAgICAgICAgY29sb3I6ICM5MjkyOTI4YztcbiAgICB9XG5cbiAgICBwIHtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuICAgICAgICBwYWRkaW5nLXRvcDogNSU7XG4gICAgICAgIHdpZHRoOiAxMDAlO1xuICAgIH1cbn0iLCIuZm9yd2FyZC1pY29uIHtcbiAgY29sb3I6ICNFMDJFMkUgIWltcG9ydGFudDtcbiAgcG9zaXRpb246IGFic29sdXRlO1xuICByaWdodDogMHB4O1xuICBib3R0b206IDBweDtcbn1cblxuaW1nIHtcbiAgYm9yZGVyLXJhZGl1czogMTVweCAhaW1wb3J0YW50O1xufVxuXG5pb24taW5wdXQge1xuICBtYXJnaW46IDBweCA1JTtcbiAgYm9yZGVyLWJvdHRvbTogMXB4IHNvbGlkICMzMTcxZTA1Yztcbn1cblxuLnNlZ21lbnQge1xuICBzY3JvbGwtYmVoYXZpb3I6IHNtb290aDtcbn1cblxuaW9uLXJvdy5lbXB0eS1yb3cge1xuICBtYXJnaW46IDAlIDEwdmg7XG4gIHBvc2l0aW9uOiByZWxhdGl2ZTtcbiAgdG9wOiA0NSUgIWltcG9ydGFudDtcbiAgY29sb3I6ICM5MjkyOTI7XG59XG5pb24tcm93LmVtcHR5LXJvdyBpb24taWNvbiB7XG4gIHdpZHRoOiAxMDAlO1xuICBmb250LXNpemU6IDNlbTtcbiAgY29sb3I6ICM5MjkyOTI4Yztcbn1cbmlvbi1yb3cuZW1wdHktcm93IHAge1xuICB0ZXh0LWFsaWduOiBjZW50ZXI7XG4gIHBhZGRpbmctdG9wOiA1JTtcbiAgd2lkdGg6IDEwMCU7XG59Il19 */\"","import { Component, OnInit, ViewChild, ElementRef, OnDestroy } from '@angular/core';\nimport { AnnouncementService } from './announcement.service';\nimport { LoadWorkerService } from '../core/load-worker.service';\nimport { Announcement } from './announcement.model';\nimport { FormGroup, FormControl } from '@angular/forms';\nimport { isNullOrUndefined } from 'util';\nimport { DateUtils } from '../core/utils/DateUtilities';\nimport { IonSegment, NavController } from '@ionic/angular';\n\n@Component({\n  selector: 'app-announcements',\n  templateUrl: './announcements.page.html',\n  styleUrls: ['./announcements.page.scss'],\n})\nexport class AnnouncementsPage implements OnInit, OnDestroy {\n\n  @ViewChild('btnSegment', null) btnSegment: IonSegment;\n  dateUtils = new DateUtils();\n  announcements: Announcement[] = [];\n  listUpdate = false;\n  limit = new Date().getFullYear() + 2;\n  dates = [];\n  activeDate: any = {};\n\n  constructor(private announcementService: AnnouncementService,\n    private loadWorkService: LoadWorkerService,\n    private navController: NavController) { }\n\n  ngOnInit() {\n    this.dates = this.dateUtils.retrieveMonthAndYear(this.limit);\n    this.activeDate = this.dates.find(x => x.active);\n    this.announcementService.announcements$.subscribe(val => {\n      this.announcements = val;\n      this.listUpdate = false;\n    });\n    this.loadAnnouncements(this.splitDate(this.activeDate['date']).month, this.splitDate(this.activeDate['date']).year);\n  }\n\n  loadAnnouncements(month, year) {\n    this.announcementService.fetchFilteredAnnouncements(month, year)\n  }\n\n  updateList(event) {\n    let date = event.detail.value.split(' ');\n    let month = date[0];\n    let year = date[1];\n    this.announcements = [];\n    this.listUpdate = true;\n    this.announcementService.fetchFilteredAnnouncements(month, year);\n  }\n\n  splitDate(date) {\n    let newDate = date.split(' ');\n    let month = newDate[0];\n    let year = newDate[1];\n\n    return { month: month, year: year};\n  }\n\n  navigationToDetail(val) {\n    this.navController.navigateForward(val);\n  }\n\n  ngOnDestroy() {\n    console.log('on destroy');\n    this.announcementService.announcement$.next(null);\n  }\n}\n","export class DateUtils {\n\n    private monthNames = [ \"Jan\", \"Feb\", \"Mar\", \"Apr\", \"May\", \"June\",\n        \"July\", \"Aug\", \"Sep\", \"Oct\", \"Nov\", \"Dec\" ];\n\n    retrieveMonthAndYear(limit) {\n        let data = [];\n        let startingYear = new Date().getFullYear();\n        while(startingYear <= limit) {\n            for (let i = 0; i < this.monthNames.length; i++) {\n                data.push({date: `${this.monthNames[i]} ${startingYear}`, active: (i === new Date().getMonth() && startingYear === new Date().getFullYear())});\n            }\n            startingYear++;\n        }\n\n        return data;        \n    }\n}"],"sourceRoot":"webpack:///"}